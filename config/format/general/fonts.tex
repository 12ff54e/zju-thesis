\newcommand{\FangSongFontName}{FangSong}

% ctex package stores one of "windows", "mac", and "fandol" in \g__ctex_fontset_tl
\ifthenelse{\equal{\csname g__ctex_fontset_tl\endcsname}{mac}}
{ % macOS
    \renewcommand{\FangSongFontName}{STFangsong}
}
{}

\setCJKmainfont{\FangSongFontName}
\setmainfont{Times New Roman}
\renewcommand{\bibfont}{\zihao{5}\songti}